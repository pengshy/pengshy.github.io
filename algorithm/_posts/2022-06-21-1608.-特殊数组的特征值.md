---
layout: post
title: 1608. 特殊数组的特征值
description: >
  https://leetcode.cn/problems/special-array-with-x-elements-greater-than-or-equal-x/
categories: [algorithm]
tags: [binary-search]
sitemap: false
hide_last_modified: true
---

#### 通两次二分，第一次二分出可能的$$x$$值，第二次二分出满足 $$\geqslant x$$的元素个数

```c++
class Solution {
public:
    int specialArray(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        
        int l = 1, r = nums.size(), n = nums.size();
        while (l < r)
        {
            int x = l + r + 1 >> 1;
            if (nums[n - x] >= x && (x == n || nums[n - x - 1] < x)) return x;
            if (nums[n - x] < x) r = x - 1;
            else l = x;
        }
        if (nums[n - l] >= l && (l == n || nums[n - l - 1] < l)) return l;
        return -1;
    }
};
```

#### 时间复杂度：$$ O(logn) $$ 

#### 空间复杂度：$$ O(1) $$